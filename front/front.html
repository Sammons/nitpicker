<head>
  <title>front</title>
  <script src="//cdnjs.cloudflare.com/ajax/libs/rickshaw/1.4.6/rickshaw.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.13/d3.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js"></script>
  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/rickshaw/1.4.6/rickshaw.min.css">
</head>

<body>
  <h1>nitpicker!</h1>

  {{> hello}}
  {{> testResults }}

  {{> endpointsStats}}

  {{> nitpickerEvents}}
</body>

<template name="testResults">
	<h3>Tests Results (real-time)</h3>

  {{#each results}}
    <div>Test "{{testId}}" took {{responseTime}} ms to complete.</div>
  {{/each}}

</template>

<template name="endpointsStats">
{{#each endpoints}}
  {{> endpointView endpointName=name }}
{{/each}}
</template>

<template name="endpointView">

<h3>{{endpointName}}</h3>

<p>Average Response Time: <span id="averageResponseTimeValue">{{ averageResponseTime }}</span></p>

  <div class="graph_container">
          <div class="y-axis" id="y-{{ DOMName }}"></div>
          <div class="graph" id="graph-{{ DOMName }}"></div>
  </div>

</template>

<template name="nitpickerEvents">
	<h3>Events</h3>
  {{#each getEvents}}
    <div>{{serviceName}}: issue with "{{testId}}": {{description}} | {{createdDate}} | {{resolved}}</div>
  {{/each}}
</template>

<template name="hello">
  <button name="24-hours">Past 24 hours</button>
  <button name="7-days">Past week</button>
  <button name="1-month">Past month</button>

  <p>Showing {{timeWindow}}.</p>
</template>
